'use strict';(function(f){function E(c,a){null===m&&v();if(c){var b=R();var g=h.referrer,d=(new Date).getTime();c={p:p,s:w,v:m,e:b,c:d,n:B?"t":"f",f:C?"t":"f",l:f.location.href,r:g?g:void 0,i:F,j:G,k:f.devicePixelRatio,w:J(),h:K(),t:c};var e="",H={};g=function(a,b){0<e.length&&(e+="\x26");var c=H[a];"undefined"===typeof c&&(c=[],H[a]=c);c.push(b);e+=a+"\x3d"+encodeURIComponent(b)};for(var k in c)if(c.hasOwnProperty(k)){var l=c[k];switch(typeof l){case "undefined":break;case "number":g(k,l.toString(36));
break;default:g(k,l)}}"undefined"!==typeof a&&g("u",S(a));C=B=!1;L("_dvs",w,1800,d,".airbaltic.com");L("_dvp",p,63072E3,d,".airbaltic.com");g("x",T(H).toString(36));M.g(e)}else b=null;return b}function v(){N||(m=I(!1),x.pageViewId=m,O=0);E("pageView")}function T(c){var a=[];for(b in c)c.hasOwnProperty(b)&&a.push(b);a.sort();var b="";for(var g=0;g<a.length;++g){var d=a[g],e=c[d];b+=d;b+="\x3d";for(d=0;d<e.length;++d)b+=e[d],b+=",";b+=";"}c=unescape(encodeURIComponent(b));return U(c)}function t(){this.b=
[]}function P(c,a){var b=!1,g=setTimeout(function(){b||(b=!0,c.apply(this,arguments))},a);return function(){b||(b=!0,clearTimeout(g),c.apply(this,arguments))}}function R(){var c=O++;return m+c.toString(16)}function L(c,a,b,g,d){c=c+"\x3d"+a+"; path\x3d/; expires\x3d"+(new Date(g+1E3*b)).toUTCString()+"; max-age\x3d"+b;d&&(c+="; domain\x3d"+d);h.cookie=c}function Q(c){return h.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+c+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1")||null}function K(){return f.innerHeight||
h.documentElement.clientHeight||D().clientHeight||h.documentElement.offsetHeight||D().offsetHeight}function J(){return f.innerWidth||h.documentElement.clientWidth||D().clientWidth||h.documentElement.offsetWidth||D().offsetWidth}function D(){return h.body||h.getElementsByTagName("body").item(0)}var h=f.document,y=f.navigator,r=function(){function c(){throw"Divolte could not initialize itself.";}var a=h.currentScript,b;if("undefined"===typeof a){a=h.getElementsByTagName("script");for(var g=new RegExp("^(:?.*/)?"+
"data-collector.js".replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")+"(:?[?#].*)?$"),d=a.length-1;0<=d;--d){var e=a.item(d).src;g.test(e)&&("undefined"===typeof b?b=e:c('multiple script elements found with src\x3d"\u2026/data-collector.js"'))}}else b=a.src;"undefined"===typeof b&&c('could not locate script with src\x3d".../data-collector.js"');return b}(),V=r.substr(0,1+r.lastIndexOf("/")),F=f.screen.availWidth,G=f.screen.availHeight,W=function(){var c=[0,10,20,5,15,16,1,11,21,6,7,17,2,12,22,23,8,18,3,13,
14,24,9,19,4],a=[1,32898,32906,2147516416,32907,2147483649,2147516545,32777,138,136,2147516425,2147483658,2147516555,139,32905,32771,32770,128,32778,2147483658,2147516545,32896],b=[0,1,30,28,27,4,12,6,23,20,3,10,11,25,7,9,13,15,21,8,18,2,29,24,14];return function(g){var d,e=[];for(d=0;25>d;d+=1)e[d]=0;if(15===g.length%16)g+="\u8001";else{for(g+="\u0001";15!==g.length%16;)g+="\x00";g+="\u8000"}for(var f=0;f<g.length;f+=16){for(d=0;16>d;d+=2)e[d/2]^=g.charCodeAt(f+d)+65536*g.charCodeAt(f+d+1);for(var h=
0;22>h;h+=1){var l=[];for(d=0;5>d;d+=1)l[d]=e[d]^e[d+5]^e[d+10]^e[d+15]^e[d+20];var q=[];for(d=0;5>d;d+=1){var z=l[(d+1)%5];q[d]=l[(d+4)%5]^(z<<1|z>>>31)}l=[];for(d=0;25>d;d+=1){z=e[d]^q[d%5];var k=b[d];l[c[d]]=z<<k|z>>>32-k}for(d=0;5>d;d+=1)for(q=0;25>q;q+=5)e[q+d]=l[q+d]^~l[q+(d+1)%5]&l[q+(d+2)%5];e[0]^=a[h]}}g=[];for(d=0;8>d;++d)f=e[d],g.push(f&255,f>>>8,f>>>16,f>>>24);return g}}(),U=function(){function c(a,b){var c=b&65535;return((b-c)*a|0)+(c*a|0)|0}return function(a,b){var g=a.length;b="undefined"!==
typeof b?b:0;for(var d=g&-4,e,f=0;f<d;f+=4)e=a.charCodeAt(f)&255|(a.charCodeAt(f+1)&255)<<8|(a.charCodeAt(f+2)&255)<<16|(a.charCodeAt(f+3)&255)<<24,e=c(e,3432918353),e=(e&131071)<<15|e>>>17,e=c(e,461845907),b^=e,b=(b&524287)<<13|b>>>19,b=5*b+3864292196|0;e=0;switch(g%4){case 3:e=(a.charCodeAt(d+2)&255)<<16;case 2:e|=(a.charCodeAt(d+1)&255)<<8;case 1:e|=a.charCodeAt(d)&255,e=c(e,3432918353),e=c((e&131071)<<15|e>>>17,461845907),b^=e}a=b^g;a=c(a^a>>>16,2246822507);a=c(a^a>>>13,3266489909);return a^a>>>
16}}(),I=function(){function c(){var a=J(),b=K(),c=y.mimeTypes;if(c){var d="plugins:";for(var g=0,k=e.length;g<k;++g)d+=e[g]in c?"1":"0"}else d="";c=y.userAgent||"";g=y.platform||"";k=y.language||"";var m=y.systemLanguage||"",r=y.userLanguage||"",t=F?F.toString(36):"",u=G?G.toString(36):"",v=a?a.toString(36):"";a=b?a.toString(36):"";if("ActiveXObject"in f){b="activex:";for(var p=0,w=h.length;p<w;++p){var x=h[p];try{var n=new ActiveXObject(x);b+="1";"getVersions"in n?b+="("+n.getVersions()+")":"getVariable"in
n&&(b+="("+n.getVariable("$version")+")")}catch(X){b+="0"}}}else b="";return[c,g,k,m,r,t,u,v,a,d,b]}var a=Math,b=f.crypto||f.msCrypto,g="undefined"!==typeof b&&"undefined"!==typeof b.getRandomValues,d=g?function(a){a=new Uint8Array(a);b.getRandomValues(a);return a}:function(b){for(var c=Array(b),d=0;d<b;++d)c[d]=a.floor(256*a.random());return c},e="application/pdf video/quicktime video/x-msvideo audio/x-pn-realaudio-plugin audio/mpeg3 application/googletalk application/x-mplayer2 application/x-director application/x-shockwave-flash application/x-java-vm application/x-googlegears application/x-silverlight".split(" "),
h=["ShockwaveFlash.ShockwaveFlash.1","AcroPDF.PDF","AgControl.AgControl","QuickTime.QuickTime"],k=(new Date).getTime();return function(a){var b=(new Date).getTime().toString(36);for(var e=f.location.href||"",h=d(32),l="",m=0;m<h.length;++m)l+=String.fromCharCode(h[m]);b=[b,e,l];g||b.push.apply(b,c());b=W(b.join(""));e="";h=0;for(l=b.length;h<l;++h)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxzy0123456789~_".charAt(b[h]&63);g||(e+="!");b=e;return"0:"+(a?k.toString(36)+":"+b:b)}}(),p=Q("_dvp"),
w=Q("_dvs"),m=function(c){var a=c.indexOf("#");c=-1!==a?c.substring(a+1):null;if(null!==c&&-1!==c.indexOf("/"))throw"DVT not initialized correctly; page view ID may not contain a slash ('/').";return c}(r),B=!p,C=!w,N=!!m;B&&(p=I(!0));C&&(w=I(!0));var O=0;t.prototype.g=function(c){var a=this.b;a.push(c);1===a.length&&this.m()};t.prototype.m=function(){var c=this.b[0];switch(typeof c){case "string":this.o(c);break;case "function":this.u(c);break;default:this.a()}};t.prototype.o=function(c){var a=this,
b=new Image(1,1),g=P(function(){a.a()},750);b.onload=g;b.onerror=g;b.src=V+"csc-event?"+c};t.prototype.u=function(c){c();this.a()};t.prototype.a=function(){var c=this.b;c.shift();0<c.length&&this.m()};var M=new t,S=function(){function c(){this.a="";this.g=null}c.prototype.K=function(){this.b("(")};c.prototype.H=function(){this.g=null;this.b(")")};c.prototype.J=function(){this.b("a")};c.prototype.G=function(){this.b(".")};c.prototype.I=function(a){this.g=a};c.prototype.b=function(a,b){this.a+=a;null!==
this.g&&(this.a+=c.a(this.g),this.a+="!",this.g=null);b&&(this.a+=b)};c.a=function(){var a=/[~!]/g;return function(b){return b.replace(a,"~$\x26")}}();c.prototype.F=function(a){this.b("s",c.a(a)+"!")};c.prototype.C=function(a){if(isFinite(a)){var b=a===Math.floor(a)?a.toString(36):null,c=a.toExponential();a=String(a);null!==b&&b.length<=c.length&&b.length<=a.length?this.b("d",b+"!"):this.b("j",(c.length<a.length?c:a)+"!")}else this.encode(null,!1)};c.prototype.o=function(a){this.b(a?"t":"f")};c.prototype.B=
function(){this.b("n")};c.prototype.m=function(a){this.J();for(var b=0;b<a.length;++b)this.encode(a[b],!0);this.G()};c.prototype.u=function(){function a(a,c){for(c=c.toString();c.length<a;)c="0"+c;return c}return function(b){this.encode(isFinite(b.valueOf())?b.getUTCFullYear()+"-"+a(2,b.getUTCMonth()+1)+"-"+a(2,b.getUTCDate())+"T"+a(2,b.getUTCHours())+":"+a(2,b.getUTCMinutes())+":"+a(2,b.getUTCSeconds())+"."+a(3,b.getUTCMilliseconds())+"Z":null,!1)}}();c.prototype.A=function(a){this.K();for(var b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(this.I(b),this.encode(a[b],!1));this.H()};c.prototype.D=function(a,b){if(null===a)this.B();else if("function"===typeof a.toJSON)this.encode(a.toJSON(),b);else switch(Object.prototype.toString.call(a)){case "[object Array]":this.m(a);break;case "[object Date]":this.u(a);break;default:this.A(a)}};c.prototype.encode=function(a,b){switch(typeof a){case "string":this.F(a);break;case "number":this.C(a);break;case "boolean":this.o(a);break;case "object":this.D(a,b);break;case "undefined":b&&this.encode(null,
!1);break;default:throw"Cannot encode of type: "+typeof a;}};c.b=function(a){var b=new c;b.encode(a,!1);a=b.a;return""!==a?a:void 0};return c.b}(),x={partyId:p,sessionId:w,pageViewId:m,isNewPartyId:B,isFirstInSession:C,isServerPageView:N,signal:E,whenCommitted:function(c,a){"undefined"!==typeof a&&(c=P(c,a));M.g(c)},loaded:!0},k="object"===typeof f.divolte,u=k&&!0===f.divolte.loaded;if(!k||!u){r=[];k&&!u&&(r=f.divolte.queue);if(!u){"function"===typeof f.define&&f.define.amd?f.define("divolte",function(){return x}):
"undefined"!==typeof f.module&&f.module.exports?f.module.exports=x:f.divolte=x;if("undefined"!==typeof h.hidden){var n="hidden";var A="visibilitychange"}else"undefined"!==typeof h.mozHidden?(n="mozHidden",A="mozvisibilitychange"):"undefined"!==typeof h.msHidden?(n="msHidden",A="msvisibilitychange"):"undefined"!==typeof h.webkitHidden&&(n="webkitHidden",A="webkitvisibilitychange");h[n]?h.addEventListener&&h.removeEventListener?h.addEventListener(A,function a(){null===m&&!1===h[n]&&v();null!==m&&h.removeEventListener(A,
a)}):v():v();"onpageshow"in f&&"onpagehide"in f&&f.addEventListener&&f.removeEventListener?f.addEventListener("pagehide",function b(){f.removeEventListener("pagehide",b);f.addEventListener("pageshow",function(){v()})}):(k=f.history)&&typeof("undefined"!==k.navigationMode)&&(k.navigationMode="compatible")}for(k=0;k<r.length;k++)u=r[k],E(u[0],u[1])}return x})("undefined"!==typeof window?window:this);