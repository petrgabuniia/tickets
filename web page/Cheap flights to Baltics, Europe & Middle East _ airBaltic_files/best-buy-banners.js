(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{1531:function(e,t,i){},1532:function(e,t,i){},2067:function(e,t,i){"use strict";i(1531)},2068:function(e,t,i){"use strict";i(1532)},2529:function(e,t,i){"use strict";i.r(t);i(9),i(4),i(10),i(84),i(98);var s=i(13),r=i(385),n=i(188);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c={props:{items:{type:Array,required:!0},page:{type:Number,required:!0},dotCount:{type:Number,default:6},groupSlide:{type:Boolean,default:!0}},data:()=>({currentPage:0,translateX:0,navigateToSlide:0,dotWidth:36,lastDotMargin:24}),computed:o(o({},Object(s.c)("device",["isDesktop","isTablet","isMobile"])),{},{slidesForDevice(){let e,t;return this.isMobile?(e=1,t=0):this.isTablet?(e=2,t=1):this.isDesktop&&(e=3,t=2),this.groupSlide?Math.ceil(this.items.length/e):this.items.length-t},getSliderWidth(){return this.dotCount*this.dotWidth-this.lastDotMargin}}),methods:{onSlideChange(e){this.currentPage=e,this.slidesForDevice>this.dotCount?this.slideProgress():this.translateX=0},slideProgress(){const e=this.slidesForDevice-Math.ceil(this.dotCount/2),t=Math.floor(this.dotCount/2);this.currentPage<=2&&(this.translateX=0),this.isPaginateEnd(e)&&(this.translateX=-(e-t)*this.dotWidth),this.currentPage>=2&&!this.isPaginateEnd(e)&&(this.translateX=-(this.currentPage-2)*this.dotWidth)},isPaginateEnd(e){return this.currentPage>=e},goToSlide(e){this.$emit("paginatorNavigate",e)}}},d=(i(2067),i(11)),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"paginator-wrapper",style:"width: "+e.getSliderWidth+"px"},[i("div",{staticClass:"dot-wrapper",class:{slider:e.slidesForDevice>=e.dotCount},style:"transform: translateX("+e.translateX+"px)"},e._l(e.items.slice(0,e.slidesForDevice),(function(t,s){return i("div",{key:t.id,staticClass:"dot",class:{current:e.currentPage===s},on:{click:function(t){return e.goToSlide(s)}}})})),0)])}),[],!1,null,"0f63479c",null).exports,h=i(310),g=i(72);function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f={components:{Carousel:r.Carousel,Slide:r.Slide,SliderPaginator:u,DropdownWhite:()=>Promise.resolve().then(i.bind(null,440)),BestBuyBanner:()=>i.e(106).then(i.bind(null,2682)),SectionHeader:()=>i.e(249).then(i.bind(null,2683))},props:{banners:{type:Array,required:!0},bestBuyCountries:{type:Array,required:!0},title:{type:String,default:""},listName:{type:String,default:"main"},destinationPageLink:{type:Object,required:!0},everyMundoLink:{type:Object,required:!0}},data:()=>({country:"",city:"all",currentPage:0,navigateToSlide:0}),computed:y(y(y(y(y({},Object(s.c)("device",["isDesktop","isTablet","isMobile"])),Object(s.e)("main",["selectedCountry","selectedLang"])),Object(s.e)("indexPage/bestBuyBanners",{origDestLabels:"labels"})),Object(s.e)("eHorizonSearchForm",["origDestData"])),{},{selectedBestBuyCountry(){return this.bestBuyCountries.find(e=>e.code===this.country)?this.country:"ZZ"},cities(){const e=[{name:this.$t("reusable.showAll"),code:"all"}],t=this.banners.map(e=>e.orig),i=[];return Object(h.a)(t).forEach(e=>{i.push({name:this.getCityName(e),code:e})}),i.sort((e,t)=>e.name.localeCompare(t.name)),[e,...i]},bannersByCity(){return"all"===this.city?this.banners:this.banners.filter(e=>e.orig===this.city)},showPaginator(){return this.isDesktop?this.bannersByCity.length>3:!this.isTablet||this.bannersByCity.length>2}}),created(){this.country=this.selectedCountry},methods:{getCityName(e){var t;if("all"===e)return this.$t("reusable.showAll");let i=null!==(t=this.origDestData["".concat(e,"A")])&&void 0!==t?t:this.origDestData["".concat(e,"C")];return i?null==i?void 0:i.city:(g.a("No city found in origDestData with code: "+e),"")},selectCity(e){this.city=e,this.$nextTick(()=>{this.onSlideChange(0)})},selectCountry(e){this.country=e,this.city="all",this.closeModal(),(new n.a).setSinglePos(e,this.listName).then(e=>{this.$store.commit("indexPage/bestBuyBanners/setBestBuyBanners",e),this.$nextTick(()=>{this.onSlideChange(0)})}).catch(()=>this.$store.commit("indexPage/bestBuyBanners/setBestBuyBanners",[])).finally(()=>{this.$refs.slider&&this.$refs.slider.goToPage(0)})},closeModal(){this.$store.dispatch("main/closeModal")},onSlideChange(e){this.currentPage=e,this.navigateToSlide=e,this.$refs.sliderPaginatorRef&&this.$refs.sliderPaginatorRef.onSlideChange(e)},paginatorNavigate(e){this.navigateToSlide=e}}},v=(i(2068),Object(d.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"bbb-section"},[i("section-header",{attrs:{title:e.title}}),e._v(" "),i("div",{staticClass:"sub-header"},[i("div",{staticClass:"dropdown-container"},[i("div",{staticClass:"dropdown-block"},[i("span",[e._v(e._s(e.$t("bestBuyBanners.title"))+" ")]),e._v(" "),e.bestBuyCountries?i("dropdown-white",{staticClass:"countries",attrs:{"translation-prefix":"countries.",items:e.bestBuyCountries,"selected-item":e.selectedBestBuyCountry},on:{select:e.selectCountry}}):e._e()],1),e._v(" "),e.cities.length>2?i("div",{staticClass:"dropdown-block"},[i("span",[e._v(e._s(e.$t("bestBuyBanners.cityTitle"))+" ")]),e._v(" "),e.cities?i("dropdown-white",{staticClass:"cities",attrs:{items:e.cities,label:e.getCityName(e.city),"selected-item":e.city},on:{select:e.selectCity}}):e._e()],1):e._e()]),e._v(" "),e.isMobile?e._e():i("div",[e.everyMundoLink.text?i("a",{staticClass:"section-link",attrs:{href:e.everyMundoLink.href,target:e.everyMundoLink.target}},[e._v("\n        "+e._s(e.everyMundoLink.text)+"\n      ")]):e._e(),e._v(" "),e.destinationPageLink.text?i("a",{staticClass:"section-link",attrs:{href:e.destinationPageLink.href,target:e.destinationPageLink.target}},[e._v("\n        "+e._s(e.destinationPageLink.text)+"\n      ")]):e._e()])]),e._v(" "),i("carousel",{ref:"slider",attrs:{"navigation-enabled":e.isDesktop,"navigation-next-label":"","navigation-prev-label":"","pagination-enabled":!1,"per-page-custom":[[320,1],[768,2],[992,3]],"scroll-per-page":!0,"navigate-to":e.navigateToSlide},on:{pageChange:e.onSlideChange}},e._l(e.bannersByCity,(function(t,s){return i("slide",{key:s,attrs:{id:"bbb-"+s}},[i("best-buy-banner",{attrs:{banner:t,"orig-dest-labels":e.origDestLabels,"orig-dest-data":e.origDestData,"selected-country":e.selectedBestBuyCountry,"selected-lang":e.selectedLang}})],1)})),1),e._v(" "),e.showPaginator?i("slider-paginator",{ref:"sliderPaginatorRef",attrs:{items:e.bannersByCity,page:e.currentPage,"dot-count":6,"group-slide":!0},on:{paginatorNavigate:e.paginatorNavigate}}):e._e()],1)}),[],!1,null,"3e144c33",null));t.default=v.exports}}]);
//# sourceMappingURL=best-buy-banners.js.map