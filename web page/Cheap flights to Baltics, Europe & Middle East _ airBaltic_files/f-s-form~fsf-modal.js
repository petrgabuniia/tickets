(window.webpackJsonp=window.webpackJsonp||[]).push([[51,376],{1283:function(t,e,i){},1316:function(t,e,i){"use strict";i(1283)},1322:function(t,e,i){"use strict";i.r(e);var s={props:{disabled:{type:Boolean,default:!1}},methods:{onSwapClicked(){this.disabled||this.$emit("swap")}}},a=(i(1316),i(11)),r=Object(a.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"swap-icon",class:{disabled:this.disabled},on:{click:this.onSwapClicked}})}),[],!1,null,"f13b70aa",null);e.default=r.exports},1742:function(t,e,i){},1969:function(t,e,i){"use strict";i(9),i(4),i(10);var s=i(1208),a=i(26),r=i(1210),n=i(1349),o=i(1350),l=i(23),c=i(13),u=i(1351);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){p(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y={components:{LabelCloud:()=>i.e(264).then(i.bind(null,1330)),ModalHeader:i(1390).a},mixins:[n.a,o.a],props:{filter:{type:String,required:!0},touched:{type:Boolean,required:!1,default:!1},value:{type:Object,required:!0},options:{type:Array,required:!0},open:{type:Boolean,required:!0},placeholder:{type:String,required:!0},label:{type:String,required:!1,default:""},choose:{type:String,required:!0},translationNoResults:{type:String,required:!0},translationInvalidLanguage:{type:String,required:!0},invalidInputLang:{type:Boolean,default:!1},selectedCategory:{type:String,default:""},selectedSubCategory:{type:String,default:""},categories:{type:Object,default:()=>{},required:!1},interests:{type:Object,default:()=>{}},countries:{type:Array,default:()=>[]},selectedLabel:{type:String,default:""},altPlaceholder:{type:Boolean,required:!1,default:!1},anyDestinationButtonData:{type:Object,required:!1,default:()=>{}},isBtOriginAirport:{type:Boolean,default:!1},isIndexPage:{type:Boolean,default:!1},isDestin:{type:Boolean,default:!1}},data:()=>({firstMatch:""}),computed:h(h(h({},Object(c.e)("device",["deviceType"])),Object(c.c)("device",["isMobile"])),{},{getPlaceholder(){return this.open?this.choose:""},showInputs(){return this.open},getNewPlaceholder(){return Object(a.a)(this.value)||this.open?this.choose:this.altPlaceholder?l.a.toCity(this.value):l.a.toLabel(this.value)},isCategoriesVisible(){return!Object(a.a)(this.categories)&&(!this.isDestin||!Object(a.a)(this.interests))&&this.touched&&!this.isMobile&&this.countries.length>1},isSubCategoriesVisible(){return!this.isMobile&&(!this.filter||this.filter===this.value.aptWithCode)&&(this.isCountriesSelected||"interests"===this.selectedCategory)},subCategories(){if(this.isCountriesSelected)return this.countries;if("interests"===this.selectedCategory){let t=this.interests;return delete t.label_all,t}return[]},isCountriesSelected(){return"countries"===this.selectedCategory},isOptionsEmpty(){return 0===this.options.length},hasResults(){return!this.isOptionsEmpty&&!this.showAltResultsText},showAltResultsText(){return!this.filter&&(this.isCountriesSelected||"interests"===this.selectedCategory)&&!this.selectedSubCategory},subCategoryTitle(){return this.isCountriesSelected?this.$t("searchForm.originDestin.countryTitle"):this.$t("searchForm.originDestin.interestsTitle")},isValueSet(){return!Object(a.a)(this.value)},showAnyDestinationButton(){var t,e;return(null===(t=this.anyDestinationButtonData)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.href)&&this.isBtOriginAirport&&!this.isOptionsEmpty}}),watch:{open(t){t?this.scrollToTop():(this.$refs.input.value="",this.$emit("update:filter","")),this.clearFirstMatch()}},methods:{isHeader:t=>Object(r.a)(t),updateFilter(t){9!==t.keyCode&&16!==t.keyCode&&(this.$emit("update:filter",t.target.value),this.findFirstMatch(t.target.value))},updateValue(t){this.clearFirstMatch(),this.$emit("update:value",t)},blur(){this.blurInput()},hasFocus(){return this.$refs.input===document.activeElement},blurInput(){this.isMobile||this.$refs.input.blur()},focusInput(){this.$refs.input.focus()},focus(){this.focusInput()},onFocus(){this.$refs.input.focus(),this.selectInputContent(),this.$emit("focused")},close(){this.clearFirstMatch(),this.$emit("update:open",!1)},clearFirstMatch(){this.firstMatch=""},findFirstMatch:Object(s.a)((function(t){const e=this.options.find(t=>!Object(r.a)(t));if(Object(a.a)(e)||Object(a.a)(t))this.clearFirstMatch();else{this.firstMatch=e.aptWithCode.toLowerCase().startsWith(t.toLowerCase())?e.aptWithCode:"";for(let e=0;e<t.length;e++){const i=t.charAt(e),s=i===i.toUpperCase()?this.firstMatch.charAt(e).toUpperCase():this.firstMatch.charAt(e).toLowerCase();this.firstMatch=this.setCharAt(this.firstMatch,e,s)}}}),1),setCharAt:(t,e,i)=>e>t.length-1?t:t.substr(0,e)+i+t.substr(e+1),doAutoSelect(){Object(a.a)(this.firstMatch)||-1!==this.typeAheadPointer?this.typeAheadSelect():this.updateValue(this.options.find(t=>!Object(r.a)(t))),this.blurInput()},scrollToTop:Object(s.a)((function(){this.$refs.dropdownContent&&(this.$refs.dropdownContent.scrollTop=0,this.isMobile&&(document.body.scrollTop=0,document.documentElement.scrollTop=0))}),10),selectInputContent:Object(s.a)((function(){this.scrollToTop(),!this.isMobile&&this.$refs.input&&this.$refs.input.setSelectionRange(0,9999)}),1),anyDestinationGAPush(){this.$emit("anyDestinationSelected")},highlightAirport(t){let e="";return null!==t.aptWithCode&&void 0!==t.aptWithCode&&(e=t.aptWithCode),u.a.highlight(e,this.filter)},highlightAptAndCountry(t){let e="";return null!==t.apt&&void 0!==t.apt&&(e=t.apt),this.isCountriesSelected&&this.isCategoriesVisible?u.a.highlight(e,this.filter):u.a.highlight(e+", "+t.country,this.filter)},isDirectFlight:t=>t.hasBTDirect,selectCategory(t){this.$emit("updateCategory",t)},selectSubCategory(t,e){this.isCountriesSelected?this.$emit("updateSubCategory",e):"interests"===this.selectedCategory&&(this.$emit("updateSubCategory",t),this.selectedLabel!==t&&this.$emit("update:label",t))}}},f=(i(2279),i(11)),v=Object(f.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fsf-typeahead",class:{active:t.open,"is-index":t.isIndexPage}},[i("div",{staticClass:"input-container",class:{visible:t.open,"is-set":t.isValueSet,"two-col":t.isSubCategoriesVisible},on:{click:function(e){return t.onFocus()}}},[t.isIndexPage?i("div",{staticClass:"fsf-input",on:{click:function(e){return t.onFocus()}}},[i("div",{staticClass:"label"},[t._v(t._s(t.label))]),t._v(" "),t.isValueSet?[i("div",{staticClass:"apt"},[t._v(t._s(t.value.code))]),t._v(" "),i("div",{staticClass:"city"},[t._v(t._s(t.value.city))])]:i("div",{staticClass:"placeholder"},[t._v("\n        "+t._s(t.choose)+"\n      ")])],2):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isIndexPage,expression:"!isIndexPage"}],staticClass:"label"},[t._v("\n      "+t._s(t.label)+"\n    ")]),t._v(" "),t.isIndexPage?t._e():i("div",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.getNewPlaceholder,expression:"getNewPlaceholder"}],staticClass:"placeholder modal-placeholder"}),t._v(" "),i("input",{ref:"input",class:{hide:!t.showInputs},attrs:{autocorrect:!1,placeholder:t.getPlaceholder,spellcheck:!1,type:"text"},on:{focus:t.onFocus,keyup:t.updateFilter,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.typeAheadDown.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.typeAheadUp.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.doAutoSelect.apply(null,arguments))}]}}),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:t.showInputs,expression:"showInputs"}],staticClass:"input-typeahead",class:{hide:!t.showInputs},attrs:{autocorrect:!1,placeholder:t.firstMatch,spellcheck:!1,autocomplete:"new-password",disabled:"",type:"text"}})]),t._v(" "),t.open?i("div",{staticClass:"dropdown-menu",class:{visible:t.open,empty:t.isOptionsEmpty,filter:!!t.filter,"two-col":t.isSubCategoriesVisible,"no-categories":!t.isCategoriesVisible}},[t.isMobile?i("modal-header",{staticClass:"modal-header",attrs:{label:t.$t("header.mobileMenuHeading.back")},on:{closed:t.close}}):t._e(),t._v(" "),i("div",{ref:"dropdownContent",staticClass:"dropdown-content",class:{"has-any-dest":t.showAnyDestinationButton}},[t.isCategoriesVisible?[i("label-cloud",{ref:"labelCloud",attrs:{labels:t.categories,selected:t.selectedCategory},on:{click:t.selectCategory}})]:t._e(),t._v(" "),i("div",{staticClass:"inner-content"},[t.isSubCategoriesVisible?i("ul",{staticClass:"category-list"},[i("li",{staticClass:"title"},[t._v("\n            "+t._s(t.subCategoryTitle)+"\n          ")]),t._v(" "),t._l(t.subCategories,(function(e,s){return i("li",{key:s,class:{selected:t.selectedSubCategory===s||t.selectedSubCategory===e.country},on:{click:function(i){return t.selectSubCategory(s,e)}}},[t.isCountriesSelected?i("span",[t._v(" "+t._s(e.country))]):i("span",[t._v(" "+t._s(e)+" ")])])}))],2):t._e(),t._v(" "),t.isOptionsEmpty?[i("div",{staticClass:"dropdown-item-empty"},[t.invalidInputLang?[t._v("\n              "+t._s(t.translationInvalidLanguage)+"\n            ")]:[t._v("\n              "+t._s(t.translationNoResults)+"\n              "),i("span",{staticClass:"filter"},[t._v(t._s(t.filter))])]],2)]:t._e(),t._v(" "),t.showAltResultsText?[i("div",{staticClass:"dropdown-items"},[i("div",{staticClass:"dropdown-header"},[t._v(t._s(t.$t("searchForm.originDestin.airportTitle")))]),t._v(" "),i("div",{staticClass:"dropdown-item-select"},[t.isCountriesSelected?[t._v("\n                "+t._s(t.$t("searchForm.originDestin.selectCountry"))+"\n              ")]:[t._v("\n                "+t._s(t.$t("searchForm.originDestin.selectInterest"))+"\n              ")]],2)])]:t._e(),t._v(" "),t.hasResults?i("ul",{ref:"dropdownMenu",staticClass:"dropdown-items",class:{"two-col":t.isSubCategoriesVisible}},[t.isSubCategoriesVisible?i("div",{staticClass:"dropdown-header"},[t._v("\n            "+t._s(t.$t("searchForm.originDestin.airportTitle"))+"\n          ")]):t._e(),t._v(" "),t._l(t.options,(function(e,s){return[t.isHeader(e)?i("li",{key:s,staticClass:"dropdown-header"},[t._v("\n              "+t._s(e)+"\n            ")]):i("li",{key:s,staticClass:"dropdown-item",class:{highlight:s===t.typeAheadPointer,selected:e.aptWithCode===t.value.aptWithCode},on:{click:function(i){return t.updateValue(e)}}},[i("div",[i("div",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.highlightAirport(e),expression:"highlightAirport(option)"}],staticClass:"airport"}),t._v(" "),i("div",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.highlightAptAndCountry(e),expression:"highlightAptAndCountry(option)"}],staticClass:"country-container"})]),t._v(" "),t.isDirectFlight(e)?i("div",{staticClass:"direct-flight"},[t._v("\n                "+t._s(t.$t("searchForm.originDestin.btFlightEHorizon"))+"\n              ")]):t._e()])]}))],2):t._e()],2),t._v(" "),t.showAnyDestinationButton?i("a",{staticClass:"any-destination",attrs:{href:t.anyDestinationButtonData.data.href,target:"_self"},on:{click:function(e){return t.anyDestinationGAPush()}}},[i("span",[t._v(t._s(t.anyDestinationButtonData.data.text))])]):t._e()],2)],1):t._e()])}),[],!1,null,"44b44ed4",null);e.a=v.exports},2279:function(t,e,i){"use strict";i(1742)}}]);
//# sourceMappingURL=f-s-form~fsf-modal.js.map